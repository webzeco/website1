"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3110],{67890:function(e,n,t){var r,i=t(67294);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}n.Z=function(e){return i.createElement("svg",o({fill:"none",viewBox:"0 0 98 33",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{clipRule:"evenodd",d:"m64.8935 16.456c0 9.0884-7.3676 16.456-16.456 16.456s-16.456-7.3676-16.456-16.456c0-9.08839 7.3676-16.456 16.456-16.456s16.456 7.36761 16.456 16.456zm-47.9911-14.88859c.3016-.52241 1.0556-.52241 1.3572 0l16.7962 29.09189c.3017.5224-.0754 1.1754-.6786 1.1754h-33.592412c-.603231 0-.980249-.653-.678634-1.1754zm51.7119-.588048c-.8655 0-1.5672.701678-1.5672 1.567238v27.8185c0 .8656.7017 1.5673 1.5672 1.5673h27.8185c.8656 0 1.5673-.7017 1.5673-1.5673v-27.8185c0-.86556-.7017-1.567238-1.5673-1.567238z",fill:"currentColor",fillRule:"evenodd"})))}},69203:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(85893),i=t(9008),o=t.n(i),a=t(11163),c=t(67294),l=t(24254),s=t(72953),u=t(96100),d=function(e,n){return"/favicons/".concat(e,"x").concat(e,"/").concat(n,".png")},f=t(27250),g=u.bm?"preview"===u.Vi.VERCEL_ENV?{dark:"goerli-preview",light:"goerli-preview"}:{dark:"goerli",light:"goerli"}:"preview"===u.Vi.VERCEL_ENV?{dark:"app-preview-dark",light:"app-preview-light"}:{dark:"app-dark",light:"app-light"};function p(e){var n,t=e.description,i=e.title,u=e.image,p=(0,c.useState)(g.light),h=p[0],v=p[1],m=(0,l.a)(),x=(0,a.useRouter)().asPath;(0,c.useEffect)((function(){if(window.matchMedia){var e=window.matchMedia("(prefers-color-scheme: dark)");if("function"==typeof e.addEventListener){v(e.matches?g.dark:g.light);var n=function(e){v(e.matches?g.dark:g.light)};return e.addEventListener("change",n),function(){e.removeEventListener("change",n)}}}}),[m]);var y,b,j,k,Z,_=i&&x.startsWith("/manage/")&&"string"==typeof i?i:i?"".concat(i," | Foundation"):"Foundation",w=(b=(y={pageTitle:_,pageDescription:t||"Your World. Onchain.",asPath:x,ogImage:u?(0,f.Ew)(u):"https://foundation.app/opengraph.jpg"}).ogImage,[{name:"title",content:k=y.pageTitle},{name:"description",content:j=y.pageDescription},{property:"og:title",content:k},{property:"og:url",content:(Z=y.asPath)&&(0,f.GR)(Z)},{property:"og:description",content:j},{property:"og:image",content:b},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:k},{name:"twitter:site",content:"@foundation"},{name:"twitter:url",content:Z&&(0,f.GR)(Z)},{name:"twitter:image",content:b}].filter((function(e){return Boolean(e.content)})));return(0,r.jsxs)(o(),{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("title",{children:_}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),w.map((function(e){return e.content?(0,r.jsx)("meta",{name:e.name,property:e.property,content:e.content},null!==(n=null==e?void 0:e.name)&&void 0!==n?n:null==e?void 0:e.property):null})),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{name:"msapplication-TileColor",content:"#000000"}),(0,r.jsx)("meta",{name:"theme-color",content:"#ffffff"}),(0,r.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,r.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:d(32,h)}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:d(32,h)}),(0,r.jsx)("link",{rel:"shortcut icon",type:"image/png",href:"/icon-metamask.png"}),(0,r.jsx)("link",{rel:"preconnect",href:s.GG}),(0,r.jsx)("link",{rel:"preconnect",href:s.bA}),(0,r.jsx)("link",{rel:"preconnect",href:s.Cg}),(0,r.jsx)("link",{rel:"preconnect",href:s.Mx}),(0,r.jsx)("link",{rel:"preconnect",href:s.Vl})]})}},46828:function(e,n,t){var r=(0,t(73450).zo)("div",{width:"8px",height:"8px",borderRadius:"$round",variants:{color:{red:{backgroundColor:"$red3"},green:{backgroundColor:"$green4"}}},defaultVariants:{color:"red"}});n.Z=r},42954:function(e,n,t){t.d(n,{Z:function(){return M}});var r,i=t(14924),o=t(85893),a=t(15921),c=t(13098),l=t(62565),s=t(44668),u=t(23815),d=t(93818),f=t(69077),g=t(73450),p=t(46828),h=t(45912),v=t(21032),m=t(60583),x=t(36711),y=t(89859),b=t(18181),j=t(75440),k=t(6859),Z=t(22299),_=t(58915),w=t(22141),C=t(90616),$=t(89610),E=(t(26042),t(88767)),B=t(73104),K="\n    query NotificationsCount {\n  notificationsCount\n}\n    ",D=function(e,n){return(0,E.useQuery)(void 0===e?["NotificationsCount"]:["NotificationsCount",e],(0,B.h6)(K,e),n)};D.getKey=function(e){return void 0===e?["NotificationsCount"]:["NotificationsCount",e]},D.fetcher=function(e,n){return(0,B.h6)(K,e,n)};var I=t(82300),z=t(72674),N=t(30281),A=t(3256),W=t(33809),q=t(30349),H=t(96100),R=t(62e3),O=t(21435),S=t(949),L=t(81670),P=t(96854);function M(e){var n,t,r,i,g=e.auth,j=e.hasDarkBackground,k=g.publicKey,E=(0,w.k7)(g)?g.user:null,B=(0,N.Z)().setModal,K=(0,A.Z)({publicKey:k}),M=K.data,J=K.isLoading,ee=K.refetch,ne=(0,z.Z)({publicKey:k}).data,te=(0,q.Z)().mutate,re=(0,w.Nc)(g),ie=L.DW.profile.page(re),oe=(0,W.Z)(),ae=R.M.address(k),ce=(0,f.g0)({onSuccess:function(){ee()}}).switchNetwork,le=(0,I.Z)({publicKey:k}),se=(0,$.Mq)({publicKey:k},{enabled:Boolean(null===(n=le.data)||void 0===n?void 0:n.id)}),ue=Boolean(null===(t=se.data)||void 0===t?void 0:t.hasWorldNotifications),de=null===(r=le.data)||void 0===r?void 0:r.id,fe=D(),ge=fe.data?fe.data.notificationsCount:0,pe=(0,_.Z)();return(0,o.jsxs)(y.Z.Root,{children:[(0,o.jsx)(y.Z.Trigger,{asChild:!0,children:(0,o.jsx)(m.Z,{"aria-label":"Toggle user menu",icon:"standalone",size:0,variant:j?"blur":"secondary",children:(0,o.jsx)(h.Z,{imageUrl:E?E.profileImageUrl:null,publicKey:k,size:2})})}),(0,o.jsx)(y.Z.Portal,{children:(0,o.jsxs)(y.Z.Content,{align:"center",minWidth:300,sideOffset:(0,P.SK)(3),children:[(0,o.jsxs)(y.Z.Item,{type:"link",href:ie,children:[(0,o.jsx)(v.Z,{css:{marginLeft:"-$1"},children:(0,o.jsx)(h.Z,{imageUrl:E?E.profileImageUrl:null,publicKey:k,size:4})}),(0,o.jsxs)(v.Z,{children:[(0,o.jsx)(U,{css:{marginBottom:"2px"},children:null!==(i=null==E?void 0:E.name)&&void 0!==i?i:(0,S.Kz)(4,g.publicKey)}),(null==E?void 0:E.username)&&(0,o.jsx)(F,{css:{marginBottom:0},children:(0,S.Kf)(E.username)})]})]}),(0,o.jsxs)(T,{children:[(0,o.jsxs)(V,{children:[(0,o.jsxs)(F,{lineHeight:0,children:["Wallet Balance ",function(){if(oe){var e=(0,o.jsxs)(o.Fragment,{children:["Wrong network",(0,o.jsx)(p.Z,{color:"red"})]});return ce?(0,o.jsx)(Z.Z,{content:C.Ib.heading,children:(0,o.jsx)(X,{as:"button",onClick:function(){return ce(H.Vi.CHAIN)},children:e})}):(0,o.jsx)(X,{children:e})}return k&&ae?(0,o.jsxs)(X,{as:b.Z,href:ae,mono:!0,target:"_blank",variant:"primary",children:[(0,S.Kz)(4,k),(0,o.jsx)(p.Z,{color:"green"})]}):null}()]}),J||!M?(0,o.jsx)(G,{}):(0,o.jsx)(U,{children:oe?(0,o.jsx)(x.Z,{}):"".concat((0,O.Bt)(null==M?void 0:M.ethBalance))})]}),(0,o.jsx)(Q,{children:(0,o.jsx)(y.Z.Item,{onClick:function(){return B({type:"MARKETPLACE_BALANCE"})},children:(0,o.jsxs)(v.Z,{children:[(0,o.jsx)(F,{children:"Marketplace Balance"}),J||!M?(0,o.jsx)(G,{}):(0,o.jsx)(U,{children:oe?(0,o.jsx)(x.Z,{}):"".concat((0,O.Bt)(M.availableFethBalance))})]})})})]}),de&&(0,o.jsx)(Y,{children:(0,o.jsxs)(y.Z.Item,{type:"link",href:L.DW.world.dashboard(de),onClick:function(){return pe.track({name:"clicked_nav_dashboard",hasDot:ue})},children:[(0,o.jsx)(a.Z,{})," Dashboard",ue&&(0,o.jsx)(p.Z,{color:"red"})]})}),(0,o.jsx)(Y,{children:(0,o.jsxs)(y.Z.Item,{type:"link",href:"/activity",children:[(0,o.jsx)(c.Z,{}),"Activity","number"==typeof ne&&ne>0&&(0,o.jsx)(p.Z,{css:{marginLeft:"-$1"},color:"red"})]})}),(0,o.jsxs)(y.Z.Item,{type:"link",href:"/notifications",children:[(0,o.jsx)(l.Z,{}),"Notifications","number"==typeof ge&&ge>0&&(0,o.jsx)(p.Z,{css:{marginLeft:"-$1"},color:"red"})]}),(0,o.jsxs)(y.Z.Item,{type:"link",href:"/settings",children:[(0,o.jsx)(s.Z,{}),"Settings"]}),(0,o.jsxs)(y.Z.Item,{href:"https://help.foundation.app/",type:"external-link",children:[(0,o.jsx)(u.Z,{}),"Help"]}),(0,o.jsxs)(y.Z.Item,{onClick:te,children:[(0,o.jsx)(d.Z,{}),"Disconnect"]})]})})]})}var T=(0,g.zo)("div",{marginY:"$2",boxShadow:"none",overflow:"hidden",borderRadius:"$2",border:"1px solid $black10"}),V=(0,g.zo)("div",{paddingY:"$3",paddingLeft:"$4",paddingRight:"$3",borderBottom:"1px solid $black10"}),F=(0,g.zo)(k.Z,{display:"flex",marginBottom:"$1",alignItems:"center",justifyContent:"space-between"});F.defaultProps={size:1,ellipsis:!0,lineHeight:1,weight:"semibold",color:"dim"};var U=(0,g.zo)(k.Z,{minWidth:0});U.defaultProps={size:3,weight:"semibold",lineHeight:1,ellipsis:!0};var G=(0,g.zo)(j.Z.Block,{width:80,height:25,transition:"background-color $1 $ease"}),Q=(0,g.zo)("div",{"> div":{borderRadius:0},"@hover":{"&:hover":(0,i.Z)({},"".concat(G),{backgroundColor:"$black10"})}}),X=(0,g.zo)("div",(r={paddingY:"$1",paddingX:"$2",borderRadius:"$1",backgroundColor:"$black5",fontFamily:"$body",fontSize:"$0",border:"none",lineHeight:"12px",gap:"$2",display:"flex",alignItems:"center",fontWeight:"$regular","@hover":{"&:hover":{backgroundColor:"$black10"}}},(0,i.Z)(r,"".concat(p.Z),{marginLeft:"$1"}),(0,i.Z)(r,"variants",{mono:{true:{color:"$black100",fontFamily:"$mono"}}}),r)),Y=(0,g.zo)("div",{"@bp2":{display:"none"}})},73744:function(e,n,t){t.d(n,{D:function(){return f},Z:function(){return d}});var r=t(85893);t(67294);var i=t(92152),o=t(60583),a=t(22141),c=t(97801),l=t(24254),s=t(75783),u=t(42954);function d(e){var n=e.hasDarkBackground,t=(0,c.Z)(),i=(0,l.a)();return(0,a.zR)(t)||!i?(0,r.jsx)(f,{hasDarkBackground:n}):(0,a.k7)(t)||"connected"===t.state?(0,r.jsx)(u.Z,{auth:t,hasDarkBackground:n}):(0,r.jsx)(s.Z,{hasDarkBackground:n})}function f(e){return(0,r.jsx)(o.Z,{size:0,icon:"standalone",variant:e.hasDarkBackground?"blur":"secondary",disabled:!0,children:(0,r.jsx)(i.Z,{})})}},89610:function(e,n,t){t.d(n,{Mq:function(){return a}});t(26042);var r=t(88767),i=t(73104),o="\n    query HasWorldNotifications($publicKey: String!, $filterWorldId: Int) {\n  hasWorldNotifications: curatorHasExhibitionNotifications(\n    accountAddress: $publicKey\n    filterExhibitionId: $filterWorldId\n  )\n}\n    ",a=function(e,n){return(0,r.useQuery)(["HasWorldNotifications",e],(0,i.h6)(o,e),n)};a.getKey=function(e){return["HasWorldNotifications",e]},a.fetcher=function(e,n){return(0,i.h6)(o,e,n)}},82300:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(47568),i=t(26042),o=t(97582),a=t(88767),c=t(73104),l="\n    query HasWorlds($publicKey: String!) {\n  exhibitionByCurator(accountAddress: $publicKey) {\n    id\n  }\n}\n    ",s=function(e,n){return(0,a.useQuery)(["HasWorlds",e],(0,c.h6)(l,e),n)};function u(){return(u=(0,r.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,s.fetcher(e)()];case 1:return(n=t.sent()).exhibitionByCurator&&n.exhibitionByCurator[0]?[2,{id:n.exhibitionByCurator[0].id}]:[2,null]}}))}))).apply(this,arguments)}function d(e,n){return(0,a.useQuery)((0,i.Z)({queryKey:["WORLD-DASHBOARD",e],queryFn:function(){return function(e){return u.apply(this,arguments)}(e)}},n))}s.getKey=function(e){return["HasWorlds",e]},s.fetcher=function(e,n){return(0,c.h6)(l,e,n)}},72674:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(26042),i=t(69396),o=t(88767),a=t(73104),c='\n    query UserActivityCount($publicKey: String!, $currentDate: timestamp!) {\n  privateSalesCount: private_sale_aggregate(\n    where: {deadlineAt: {_gt: $currentDate}, soldAt: {_is_null: true}, _or: [{buyer: {_eq: $publicKey}}, {seller: {_eq: $publicKey}}]}\n  ) {\n    aggregate {\n      count\n    }\n  }\n  placedBidsOpenCount: bid_aggregate(\n    where: {bidder: {_eq: $publicKey}, auction: {status: {_eq: "OPEN"}}}\n    distinct_on: auctionId\n  ) {\n    aggregate {\n      count\n    }\n  }\n  placedBidsEndedCount: bid_aggregate(\n    where: {status: {_eq: "HIGHEST"}, auction: {status: {_eq: "ENDED"}, highestBidder: {_eq: $publicKey}}}\n    distinct_on: auctionId\n  ) {\n    aggregate {\n      count\n    }\n  }\n  receivedBidsCount: auction_aggregate(\n    where: {status: {_in: ["ENDED", "OPEN"]}, bids: {seller: {_eq: $publicKey}}}\n    distinct_on: auctionId\n  ) {\n    aggregate {\n      count\n    }\n  }\n  receivedOffersCount: offer_aggregate(\n    where: {artwork: {ownerPublicKey: {_eq: $publicKey}}, acceptedAt: {_is_null: true}, canceledAt: {_is_null: true}, status: {_eq: HIGHEST}, expiresAt: {_gt: $currentDate}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n  madeOffersCount: offer_aggregate(\n    where: {buyer: {_eq: $publicKey}, acceptedAt: {_is_null: true}, canceledAt: {_is_null: true}, status: {_nin: ["EXPIRED", "CANCELED"]}, expiresAt: {_gt: $currentDate}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ',l=function(e,n){return(0,o.useQuery)(["UserActivityCount",e],(0,a.aT)(c,e),n)};l.getKey=function(e){return["UserActivityCount",e]},l.fetcher=function(e,n){return(0,a.aT)(c,e,n)};var s=t(20253),u=t(949),d=(new Date).toISOString();function f(e,n){return l((0,i.Z)((0,r.Z)({},e),{currentDate:d}),(0,i.Z)((0,r.Z)({},n),{enabled:(0,u.IE)(Object.values(e)),select:function(e){return(0,s.v)(e.placedBidsOpenCount)+(0,s.v)(e.placedBidsEndedCount)+(0,s.v)(e.receivedBidsCount)+(0,s.v)(e.privateSalesCount)+(0,s.v)(e.receivedOffersCount)+(0,s.v)(e.madeOffersCount)}}))}},28936:function(e,n,t){t.d(n,{Hd:function(){return i},Sg:function(){return l},XR:function(){return c},_c:function(){return o},cV:function(){return s},oX:function(){return a}});var r=t(949),i=function(e,n){return(0,r.Dw)(e)?n.length:void 0},o=function(e){var n=e.page;return n!==e.totalPages-1?n+1:void 0},a=function(e){var n=o(e);return n?{page:n}:null},c=function(e){var n;return null!==(n=null==e?void 0:e.pages.flatMap((function(e){return e.items})))&&void 0!==n?n:[]},l=function(e,n){var t,r,i;return{items:null!==(r=null==e?void 0:e.pages.flatMap((function(e){return e[n].items})))&&void 0!==r?r:[],totalItemsCount:null!==(i=null===(t=null==e?void 0:e.pages[0])||void 0===t?void 0:t[n].totalItems)&&void 0!==i?i:0}},s=function(e){var n=e({})[0];return"string"==typeof n?n:null}}}]);